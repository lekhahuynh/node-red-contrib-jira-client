<script type="text/javascript">
  const paletteLabel = "search";
  RED.nodes.registerType("jira-search", {
    category: "jira",
    color: "#0082c9",
    paletteLabel: paletteLabel,
    defaults: {
      wname: { value: "" },
      jiraQuery: { value: "", required: true },
      startAt: { value: 0, required: false },
      maxResults: { value: 50, required: false },
      fields: { value: [], required: false },
      expand: { value: [], required: false },
    },
    inputs: 1,
    outputs: 1,
    outputLabels: ["stdout"],
    icon: "exc-jira-client.png",
    label: function () {
      return this.wname || paletteLabel;
    },
  });
</script>

<script type="text/x-red" data-template-name="jira-search">
  <div class="form-row">
      <label for="node-input-wname"><i class="fa fa-tag"></i> Name</label>
      <input type="text" id="node-input-wname" placeholder="Name">
  </div>
  <div class="form-row">
     	<label for="node-input-jiraQuery"><i class="fa fa-server"></i> Jira Query</label>
     	<input type="text" id="node-input-jiraQuery">
  </div>
  <div class="form-row">
      <label for="node-input-startAt"><i class="fa fa-sitemap"></i> Start at</label>
      <input type="number" id="node-input-startAt">
  </div>
  <div class="form-row">
    <label for="node-input-maxResults"><i class="fa fa-sitemap"></i> Max results</label>
    <input type="number" id="node-input-maxResults">
  </div>
  <div class="form-row">
    <label for="node-input-fields"><i class="fa fa-sitemap"></i> Fields</label>
    <input type="text" id="node-input-fields">
  </div>
  <div class="form-row">
    <label for="node-input-expand"><i class="fa fa-sitemap"></i> Expand</label>
    <input type="text" id="node-input-expand">
  </div>
</script>

<script type="text/x-red" data-help-name="jira-search">
  <p>Connects to a Jira server and find issue by issue number</p>

  <h3>Inputs</h3>
     <dl class="message-properties">
         <dt class="">payload <span class="property-type">string</span></dt>
         <dd> Jira query string in JQL</dd>
         <dt class="optional">options <span class="property-type">object</span></dt>
         <dd> Object containing any of the following properties</dd>
         <dt class="optional">options.startAt <span class="property-type">integer</span></dt>
         <dd> Object containing any of the following properties</dd>
         <dt class="optional">options.maxResults <span class="property-type">integer</span></dt>
         <dd> Object containing any of the following properties</dd>
         <dt class="optional">options.fields <span class="property-type">Array</span></dt>
         <dd> Object containing any of the following properties</dd>
         <dt class="optional">options.expand <span class="property-type">Array</span></dt>
         <dd> Object containing any of the following properties</dd>
     </dl>

  <h3>Outputs</h3>
     <dl class="message-properties">
         <dt>payload
             <span class="property-type">Object</span>
         </dt>
         <dd> Output payload is a object have infomation of issues</dd>
     </dl>
</script>
